{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { parseUTCDate, getFullMinutes, calculateDelay } from './Utils';\nimport Stops from './Stops';\nfunction Departures() {\n  _s();\n  // ...\n\n  const [requestCancelToken, setRequestCancelToken] = useState(null);\n  useEffect(() => {\n    const cancelToken = axios.CancelToken.source();\n    setRequestCancelToken(cancelToken);\n    axios.get(`https://api.sncf.com/v1/coverage/sncf/stop_areas/${codeStation}/departures`, {\n      headers: {\n        Authorization: `${process.env.REACT_APP_API_KEY}`\n      },\n      cancelToken: cancelToken.token\n    }).then(response => {\n      // ...\n    });\n    return () => {\n      // Annuler la requête en cours lorsque le composant est démonté\n      cancelToken.cancel();\n    };\n  }, [codeStation]);\n\n  // ...\n}\n_s(Departures, \"GYtEudbwRkFTTfuqtqiCsK7pZ8s=\");\n_c = Departures;\nexport default Departures;\nvar _c;\n$RefreshReg$(_c, \"Departures\");","map":{"version":3,"names":["axios","React","useEffect","useState","useParams","parseUTCDate","getFullMinutes","calculateDelay","Stops","Departures","_s","requestCancelToken","setRequestCancelToken","cancelToken","CancelToken","source","get","codeStation","headers","Authorization","process","env","REACT_APP_API_KEY","token","then","response","cancel","_c","$RefreshReg$"],"sources":["C:/Users/Adima/OneDrive/Documents/GitHub/TVsncf/src/components/Departures.jsx"],"sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { parseUTCDate, getFullMinutes, calculateDelay } from './Utils';\nimport Stops from './Stops';\n\nfunction Departures() {\n  // ...\n\n  const [requestCancelToken, setRequestCancelToken] = useState(null);\n\n  useEffect(() => {\n    const cancelToken = axios.CancelToken.source();\n\n    setRequestCancelToken(cancelToken);\n\n    axios\n      .get(\n        `https://api.sncf.com/v1/coverage/sncf/stop_areas/${codeStation}/departures`,\n        {\n          headers: {\n            Authorization: `${process.env.REACT_APP_API_KEY}`,\n          },\n          cancelToken: cancelToken.token,\n        }\n      )\n      .then((response) => {\n        // ...\n      });\n\n    return () => {\n      // Annuler la requête en cours lorsque le composant est démonté\n      cancelToken.cancel();\n    };\n  }, [codeStation]);\n\n  // ...\n}\n\nexport default Departures;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,YAAY,EAAEC,cAAc,EAAEC,cAAc,QAAQ,SAAS;AACtE,OAAOC,KAAK,MAAM,SAAS;AAE3B,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACpB;;EAEA,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAElED,SAAS,CAAC,MAAM;IACd,MAAMW,WAAW,GAAGb,KAAK,CAACc,WAAW,CAACC,MAAM,CAAC,CAAC;IAE9CH,qBAAqB,CAACC,WAAW,CAAC;IAElCb,KAAK,CACFgB,GAAG,CACD,oDAAmDC,WAAY,aAAY,EAC5E;MACEC,OAAO,EAAE;QACPC,aAAa,EAAG,GAAEC,OAAO,CAACC,GAAG,CAACC,iBAAkB;MAClD,CAAC;MACDT,WAAW,EAAEA,WAAW,CAACU;IAC3B,CACF,CAAC,CACAC,IAAI,CAAEC,QAAQ,IAAK;MAClB;IAAA,CACD,CAAC;IAEJ,OAAO,MAAM;MACX;MACAZ,WAAW,CAACa,MAAM,CAAC,CAAC;IACtB,CAAC;EACH,CAAC,EAAE,CAACT,WAAW,CAAC,CAAC;;EAEjB;AACF;AAACP,EAAA,CA/BQD,UAAU;AAAAkB,EAAA,GAAVlB,UAAU;AAiCnB,eAAeA,UAAU;AAAC,IAAAkB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}